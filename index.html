<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, width=device-width" />
  <link rel="stylesheet" href="./css/global.css" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;800&display=swap" />
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PMJMSDJVFT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-PMJMSDJVFT');
  </script>
  
  <script>
    let isOriginalColor = true;
    function changebackgroundcolor() 
    {
      const container = document.querySelector('.music-icon');
      if (isOriginalColor) 
      {
        container.style.background = 'linear-gradient(90deg, rgb(119,234,253) ,rgb(119,203,253))';
      } 
      else 
      {
        container.style.background = 'linear-gradient(90deg, rgb(84, 84, 84) ,  rgb(84, 84, 84))';
      }
      isOriginalColor = !isOriginalColor;
    } 
  </script>
  
</head>

<body>
  <a href="http://13.61.180.92" target="_blank" class="ctf-icon-button">
    <img src="public/Racing-Flag-Free-PNG-Image-616923777.png" title="ctf" alt="ctf Icon" class="reward-icon" id="reward-icon">
  </a>
  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login & Signup Popup</title>
    <style>
      body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
      }
      /* Modal styles */
      .modal {
          display: block; /* Always show when page loads */
          position: fixed;
          z-index: 1000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
      }
      .modal-content {
          background: white;
          padding: 20px;
          border-radius: 10px;
          width: 350px;
          text-align: center;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
      .close-btn {
          float: right;
          cursor: pointer;
          font-size: 20px;
          font-weight: bold;
      }
      .hidden {
          display: none;
      }
      input {
          width: 100%;
          padding: 8px;
          margin: 10px 0;
          border: 1px solid #ccc;
          border-radius: 5px;
      }
      button {
          width: 100%;
          padding: 10px;
          background-color: #007bff;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
      }
      button:hover {
          background-color: #0056b3;
      }
      .switch {
          margin-top: 10px;
          color: #007bff;
          cursor: pointer;
      }
  </style>
  <script type="module" src="firebase.js"></script>
</head>
<body>

<!-- Login & Signup Modal -->
<div id="loginModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" id="closeModal">&times;</span>

        <!-- Login Form -->
        <div id="loginForm">
            <h2>Login</h2>
            <input type="email" placeholder="Email" id="loginEmail">
            <input type="password" placeholder="Password" id="loginPass">
            <button id="loginBtn">Login</button>
            <p class="switch" id="switchToSignup">Don't have an account? <span>Sign up</span></p>
        </div>

        <!-- Signup Form -->
        <div id="signupForm" class="hidden">
            <h2>Sign Up</h2>
            <input type="text" placeholder="Username" id="signupUser">
            <input type="email" placeholder="Email" id="signupEmail">
            <input type="password" placeholder="Password" id="signupPass">
            <button id="signupBtn">Sign Up</button>
            <p class="switch" id="switchToLogin">Already have an account? <span>Login</span></p>
        </div>
    </div>
</div>

<script type="module">
  import { signupUser, loginUser } from "./firebase.js";

  document.addEventListener("DOMContentLoaded", () => {
      // Ensure the modal shows on page load
      document.getElementById("loginModal").style.display = "flex";

      // Signup Button Click Event
      document.getElementById("signupBtn").addEventListener("click", () => {
          const username = document.getElementById("signupUser").value;
          const email = document.getElementById("signupEmail").value;
          const password = document.getElementById("signupPass").value;
          signupUser(username, email, password);
      });

      // Login Button Click Event
      document.getElementById("loginBtn").addEventListener("click", () => {
          const email = document.getElementById("loginEmail").value;
          const password = document.getElementById("loginPass").value;
          loginUser(email, password);
      });

      // **Fix for Close Button**
      document.getElementById("closeModal").addEventListener("click", closeModal);

      // **Switching Between Login & Signup**
      document.getElementById("switchToSignup").addEventListener("click", showSignup);
      document.getElementById("switchToLogin").addEventListener("click", showLogin);
  });

  function closeModal() {
      document.getElementById("loginModal").style.display = "none";
  }

  function showSignup() {
      document.getElementById("loginForm").classList.add("hidden");
      document.getElementById("signupForm").classList.remove("hidden");
  }

  function showLogin() {
      document.getElementById("signupForm").classList.add("hidden");
      document.getElementById("loginForm").classList.remove("hidden");
  }
</script>

</body>
</html>

<div class="homepage">
  <section class="homepage-inner">
    <div class="frame-parent">
      <div class="cyber-fit-wrapper">
        <h1 class="cyber-fit">CyberPandas</h1>
      </div>
      <div class="frame-group">
        <div class="cyberfit-cyber-challenges-to-wrapper">
          <div class="cyberfit-cyber-container">
            <h3> Phishing Attack ‚≠ê </h3>
            <p class="cyberfit-cyber">
              Cybercriminals bait you with fake emails and messages to steal your sensitive information. Don't take the bait‚Äîspot the red flags before you click!

            </p>
          </div>
        </div>
        <div class="frame-wrapper">
          <div class="level-1-parent">
            <h3 class="level-1">LEVEL- 1</h3>

            <div class="animation-1716828621477-1-wrapper">
              <a href="index_levels/index-level1.html">
                <img class="animation-1716828621477-1" loading="lazy" alt="play" title="play level 1"
                  src="./public/animation--1716828621477-1@2x.gif" />
              </a>
            </div>
          </div>
        </div>
        <video class="giphy-1-1" autoplay muted loop playsinline>
          <source src="phishinggif.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video>          
      
      </div>
    </div>
  </section>
  <section class="frame-container">
    <div class="frame-div">
      <div class="giphy-2-1-parent">
        <video class="giphy-1-1" autoplay muted loop playsinline>
          <source src="malwaregif.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video> 
        <div class="frame-wrapper1">
          <div class="level-2-parent">
            <h3 class="level-2">LEVEL- 2</h3>
            <div class="animation-1716828621477-2-wrapper">
              <a href="index_levels/index-level2.html">
                <img class="animation-1716828621477-2" loading="lazy" alt="play" title="play level 2"
                  src="./public/animation--1716828621477-1@2x.gif" />
              </a>
            </div>
          </div>
        </div>
        <div class="cyberfit-cyber-challenges-to-container">
          <div class="cyberfit-cyber-container1">
            <h3> Malware Mayhem ‚≠ê‚≠ê </h3>
            <p class="cyberfit-cyber1">
              Malicious software can infect your devices, steal data, or even lock you out. Stay alert and learn how to keep your system virus-free!
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="frame-parent1">
      <div class="cyberfit-cyber-challenges-to-frame">
        <div class="cyberfit-cyber-container2">
          <h3> Weak Password Worries ‚≠ê‚≠ê‚≠ê </h3>
          <p class="cyberfit-cyber2">
            Easy-to-guess passwords put your accounts at risk. Strengthen your defenses with complex, unique passwords and multi-factor authentication!

          </p>
        </div>
      </div>
      <div class="frame-parent2">
        <div class="frame-wrapper2">
          <div class="level-3-parent">
            <h3 class="level-3">LEVEL- 3</h3>
            <div class="animation-1716828621477-3-wrapper">
              <a href="index_levels/index-level3.html">
                <img class="animation-1716828621477-3" loading="lazy" alt="play" title="play level 3"
                  src="./public/animation--1716828621477-1@2x.gif" />
              </a>
            </div>
          </div>
        </div>
        <video class="giphy-1-1" autoplay muted loop playsinline>
          <source src="passwordgif.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video> 
      </div>
    </div>
  </section>
  <section class="homepage-child">
    <div class="frame-parent3">
      <div class="giphy-4-1-wrapper">
        <video class="giphy-1-1" autoplay muted loop playsinline>
          <source src="cybershieldgif.mp4" type="video/mp4">
          Your browser does not support the video tag.
      </video> 
      </div>
      <div class="frame-wrapper3">
        <div class="level-4-parent">
          <h3 class="level-4">LEVEL- 4</h3>

          <div class="animation-1716828621477-4-wrapper">
            <a href="index_levels/index-level4.html">
              <img class="animation-1716828621477-4" loading="lazy" alt="play" title="play level 4"
                src="./public/animation--1716828621477-1@2x.gif">
            </a>
          </div>
        </div>
      </div>
      <div class="cyberfit-cyber-container3">
        <h3> Cyber Shield Master ‚≠ê‚≠ê‚≠ê‚≠ê</h3>
        <p class="cyberfit-cyber3">
          Become a cybersecurity pro by mastering firewalls, encryption, and threat detection. Build your digital fortress and keep¬†hackers¬†out!¬†
        </p>
      </div>
    </div>
  </section>
</div>

    <button class="scroll_top">
      <img src="public/arrow.png" alt="" id="to_top">
    </button>
    <script>
      const scrollButton = document.querySelector(".scroll_top");
      window.addEventListener("scroll", () => {
        window.pageYOffset > 100 ? scrollButton.classList.add("show-btn") : scrollButton.classList.remove("show-btn");
      });
      function smoothScrollToTop() {
        const scrollY = window.pageYOffset;
        const scrollStep = Math.max(10, Math.floor(scrollY / 20));
        if (scrollY > 0) {
          window.scrollBy(0, -scrollStep);
          requestAnimationFrame(smoothScrollToTop);
        }
      }
      scrollButton?.addEventListener("click", () => {
        requestAnimationFrame(smoothScrollToTop);
      });
    </script>
    
  <div class="homepage">
    <div id="chatbot-card">
      <h2>ü§ñ Cyber Panda Chatbot</h2>
      <div id="chat-history"></div>
      <div class="input-area">
        <input type="text" id="user-input" placeholder="Ask me anything about cyber attacks..." />
        <button onclick="sendMessage()">üöÄ</button>
      </div>
    </div>
    
    <script>
      async function sendMessage() {
          const userInput = document.getElementById("user-input").value.trim();
          if (userInput === "") return;
    
          appendMessage(userInput, 'user');
          document.getElementById("user-input").value = "";
    
          try {
              const response = await fetch("http://127.0.0.1:5000/chat", {
                  method: "POST",
                  headers: {
                      "Content-Type": "application/json"
                  },
                  body: JSON.stringify({ query: userInput })
              });
    
              const data = await response.json();
              appendMessage(data.response, 'bot');
          } catch (error) {
              appendMessage("Oops! Something went wrong.", 'bot');
          }
      }
    
      function appendMessage(message, sender) {
          const chatHistory = document.getElementById("chat-history");
          const bubble = document.createElement("div");
          bubble.className = `chat-bubble ${sender}`;
          bubble.textContent = message;
          chatHistory.appendChild(bubble);
          chatHistory.scrollTop = chatHistory.scrollHeight;
      }
    </script>
     <!-- Google Translate Element -->
<div id="google_translate_element" style="margin: 20px;"></div>
<script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({
            pageLanguage: 'en',
            includedLanguages: 'af,ar,hy,az,ba,eu,bn,bs,ca,hr,cs,da,nl,en,eo,et,tl,tlh,fi,fr,gaa,ka,de,el,gu,ht,ha,he,hi,hu,is,id,it,ja,jw,kn,kk,km,ko,ku,ky,la,lv,lt,lb,mk,ml,mn,no,ne,pl,pt,pa,ro,ru,sr,si,sk,sl,es,su,sw,sv,ta,te,th,tl,tr,uk,ur,vi,cy,xh,yi,zu',
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE
        }, 'google_translate_element');
    }
</script>
<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  </div>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <a href="http://13.61.180.92" target="_blank" style="text-decoration: none;">
    <button style="background-color: transparent; border: none; cursor: pointer; font-size: 32px; color: #4CAF50;">
      <i class="fas fa-flag-checkered"></i>
    </button>
  </a>
  <section class="cyber-news-section">
    <h2>üåê Live Cyber Attack News</h2>
    <div id="cyber-news-container">
        <p>Loading latest threat data...</p>
    </div>
  </section>
  <script src="./server/cybernews.js"></script>
</body>
</html>
